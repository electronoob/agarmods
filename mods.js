function sfx_play(e){if(0!=document.getElementById("sfx").value){var t=ssfxs[e];t.volume=document.getElementById("sfx").value,t.play()}}function sfx_event(e){if(0!=document.getElementById("sfx").value){var t=jQuery.clone(sfxs[e]);t.volume=document.getElementById("sfx").value,t.load(),t.play()}}function httpGet(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.send(null),a.onreadystatechange=function(){4==a.readyState&&200==a.status&&t(a.responseText)}}function agariomodsRuntimeInjection(){var e=document.createElement("script");e.src="//cdnjs.cloudflare.com/ajax/libs/canvasjs/1.4.1/canvas.min.js",document.head.appendChild(e);var t=document.getElementsByTagName("head"),a=t[0].innerHTML;a=a.replace("width:350px;",""),a=a.replace("-webkit-transform:translate(-50%,-50%);",""),a=a.replace("-ms-transform:translate(-50%,-50%);",""),a=a.replace("transform:translate(-50%,-50%);",""),a=a.replace("top:50%;left:50%;","margin:10px;"),t[0].innerHTML=a;var e=document.createElement("script");agariomodsRuntimePatches(),e.innerHTML=gamejs,document.head.appendChild(e),agariomodsRuntimeHacks(),bgmusic=$("#audiotemplate").clone()[0],bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)],bgmusic.load(),bgmusic.loop=!1,bgmusic.onended=function(){var e=tracks[Math.floor(Math.random()*tracks.length)];bgmusic.src="//skins.agariomods.com/botb/"+e,bgmusic.play()},window.onbeforeunload=function(){return"Are you sure you want to quit agar.io?"},$("#canvas").on("mousedown",function(e){e.preventDefault()}),$("#chart-container").css("pointerEvents","none"),$("#chart-container-agariomods").css("pointerEvents","none"),$("#fps-agariomods").css("pointerEvents","none"),$("#pi-agariomods").css("pointerEvents","none")}function agariomodsRuntimePatches(){gamejs_patch(")&&this",")&&(this","test"),gamejs_patch(/\w>\w\/1\.1\?.*-50%\)"\);/,"","fixing menu on resize"),gamejs_patch(";reddit;",";reddit;"+ourskins+";","add our skinlist to the original game skinlist."),gamejs_patch(b+"=this.name.toLowerCase();",b+'=this.name.toLowerCase();var agariomods="";var ourskins = "'+ourskins+'";if(('+b+'.length >0) && (ourskins.split(";").indexOf('+b+')>-1)) {agariomods="//skins.agariomods.com/i/"+'+b+'+".png";} else if ('+b+'.substring(0, 2) == "i/" && document.getElementById("imgur").checked) {agariomods="//i.imgur.com/"+this.name.substring(2)+".jpg";} else if (document.getElementById("imgur").checked) {agariomods="//agar.io/skins/" + this.name.toLowerCase() + ".png";}',"add check for which skin mode we are in. be it no skin, default skin, imgur skin, or an agariomods skin."),gamejs_patch("xa=!1","zz=!1,yq=!1,xx=!1,xz=!1,xa=!1","adding variables"),gamejs_patch(W+"["+b+'].src="skins/"+'+b+'+".png"',W+"["+b+"].src=agariomods","check for agariomods img src variable"),gamejs_patch("this."+pandb+"&&b.strokeText("+c3eg2+");b.fillText("+c3eg2+")",'if (String(c).substring(0, 2) != "i/") {this.'+pandb+"&&b.strokeText("+c3eg2+");b.fillText("+c3eg2+")}","add imgur check for hiding username when using imgur id aka c3eg2"),gamejs_patch(b+"=this.name.toLowerCase();",b+"=this.name.toLowerCase(); if ("+b+'.substring(0, 2) == "i/") {'+Ja+"+="+b+";} ;","add imgur check #2."),gamejs=addChartHooks(gamejs),gamejs=addOnCellEatenHook(gamejs),gamejs=addTeamMassHook(gamejs),gamejs=addCanvasBGHook(gamejs),gamejs=addVirusColorHook(gamejs),gamejs=addFunctions(gamejs),gamejs=addOnShowOverlayHook(gamejs),gamejs=addOnHideOverlayHook(gamejs),gamejs=addLeaderboardHook(gamejs),gamejs=addConnectHook(gamejs),gamejs=addRecieveHook(gamejs),gamejs=addOnSendHook(gamejs),gamejs=addOnDrawHook(gamejs),console.log("Testing complete, "+passed+" units passed and "+failed+" units failed."),failed&&console.log(new Error("UNIT FAILED"))}function gamejs_patch(e,t,a){gamejs=gamejs.replace(e,t),testCondition(-1!=gamejs.indexOf(t),test++,a)}function testCondition(e,t,a){e?(console.log("test: #"+t+" PASSED - "+a),passed++):(console.error("test: #"+t+" FAILED - "+a),failed++)}function agariomodsRuntimeHacks(){jQuery("#helloDialog").css({left:"5px"}),jQuery("#helloDialog").css({top:"5px"}),jQuery("#helloDialog").css({margin:"0px"}),jQuery("#helloDialog").css({marginLeft:"auto"}),jQuery("#helloDialog").css({marginRight:"auto"}),jQuery("#helloDialog").css({opacity:"0.85"}),jQuery("#helloDialog").css({width:"450px"}),document.body.style.backgroundSize="cover",document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundAttachment="fixed";var e=document.createElement("div");$(document).ready(function(){hd=document.getElementById("helloDialog"),cachedhd=hd.innerHTML,hd.innerHTML=cachedhd.replace("<center>Agar.io</center>",'<a target="_blank" style="position:absolute; padding-left:435px;top:-10px; z-index: -1; height:120px;" href="https://www.reddit.com/r/Agario/"><img src="//i.imgur.com/TkTWOrc.png" height="120px"/></a>')}),document.getElementById("nick").placeholder="agariomods.com",e.id="includedContent",e.style.width="400px",e.style.backgroundColor="#000000",e.style.zIndex=999,e.style.position="relative",e.style.padding="8px",e.style.borderRadius="5px",e.style.color="#dddddd",e.style.margin="10px",e.style.marginTop="0",e.style.maxHeight="250px",e.style.overflow="auto",e.innerHTML+='1.9.6: <a href="http://connect.agariomods.com/" target="_blank"><font color="pink"><h1>Invite [Click Me]</h1><br>Register now with agariomods connect because you will need it for some soon to be released exciting new features. The idea is that soon, but not quite yet, it will be possible to have your own name AND custom skin as well as other planned features to be rolled out in the coming days. To make sure our servers aren`t overloaded you are being invited to secure your desired blob name and skin before we launch our biggest features yet. Click on this text to pre-register your name now, if you do not, it will be gone forever because we have an incredibly large fan base.</font></a><br><br>Go catch up with the <a target="_blank" href="http://agariomods.com/documentation.html">Documentation</a><br><h4><a href="http://www.agariomods.com/help.html" target="_blank"><font color="pink">CLICK HERE FOR HELP</font></a></h4>        <div style="background-color: #ffffff; color: #000000; padding: 2px; margin: 0px;">                <small><b>Disable ad blockers</b>&nbsp;- They are breaking the game and our modifications in random and unexpected ways.</small>        </div>',jQuery("#region").parent().get(0).appendChild(e),jQuery(".form-group:first").replaceWith("<br>");var t=(jQuery("#region"),jQuery("#playBtn")),a=document.createElement("span"),s=document.createElement("span"),n=document.createElement("br"),o=document.createElement("div");o.innerHTML="<big><a href='http://skins.agariomods.com' target='_blank'>SKINS</a> - <a href='http://agariomods.com/chat.html' target='_blank'>CHAT</a> - <a href='http://agariomods.com' target='_blank'>WEBSITE</a> - <a href='http://agariomods.com/help.html' target='_blank'>HELP</a> - <a href onclick=\"alert('---HOTKEYS---\\nHold Z - Show Stats In-Game\\nSuicide - Alt+Q\\nToggle Benchmarker - T\\nClear Benchmarks - Alt+T\\nFPS Counter - Alt+1\\nPackets In/Out Per Second - Alt+2\\nTry Script Lag Recover - Alt+R');return false;\" target='_blank'>HOTKEYS</a></big>",o.style.marginLeft="10px",s.className="glyphicon glyphicon-refresh btn btn-info",s.style.fontSize="1.5em",s.style.cssFloat="left",s.style.paddingTop="2px",s.style.width="15%",s.style.height="33px",s.addEventListener("click",function(){document.getElementById("iphack").value=document.getElementById("iphack").value.replace(/\s+/g,"");var e=document.getElementById("iphack").value.replace("ws://","");e.length>8&&connect("ws://"+e)}),a.id="iphack",a.style.width="85%",a.style.cssFloat="left",a.style.cssClear="right",a.style.padding="5px;",a.style.margin="5px;",a.style.border="2px solid green",a.innerHTML="Zeach, the owner of Agar.io has told us to remove this particular feature, he has banned the ability to connect to a server directly by it's IP which breaks all mods. ",jQuery("#locationUnknown").prepend(o),jQuery(t).parent().get(0).appendChild(a),jQuery(t).parent().get(0).appendChild(s),jQuery(t).parent().get(0).appendChild(n),jQuery(t).parent().prepend("<b>Current Server IP: </b><span id='ip'></span>");var i=document.createElement("audio");i.id="audiotemplate",jQuery(t).parent().get(0).appendChild(i),jQuery("#playBtn").off(),$(".btn-needs-server").prop("disabled",!0),jQuery("#playBtn").click(function(){return setNick(document.getElementById("nick").value),!1}),jQuery(".form-group:first").after("<hr style='margin: 7px; border-width: 2px'>"),jQuery(".form-group:first").removeAttr("class")}function addChartHooks(e){var t=e.match(/max\((\w+),(\w+)\(/),a=t[1],s=t[2];t=e.match(/1==(\w+)\.length&&\(/);var n=t[1],o=e.split(t[0]);e=o[0]+"1=="+n+".length&&(OnGameStart("+n+"),"+o[1],o=e.split(e.match(/"Score: "\+~~\(\w+\/100\)/)[0]),t=o[1].match(/-(\d+)\)\);/);var i=o[1].split(t[0]);return o[1]=i[0]+"-"+t[1]+"),("+n+"&&"+n+"[0]&&OnUpdateMass("+s+"())));"+i[1],o[0]+'"Current: "+~~('+s+'()/100)+"  High: "+~~('+a+"/100)"+o[1]}function addTeamMassHook(e){var t=e.match(/1==(\w+)\.length&&\(/),a=t[1],t=e.match(/;(\w+)\.(\w+)\(this\.name\)/),s=e.split(t[0]),n=t[2];e=s[0]+";"+t[1]+"."+t[2]+'(this.name);if(yq){if(p[0]&&N==":teams"&&'+a+'.indexOf(this)==-1){if(this.color.substr(p[0].color.search("ff"),2)=="ff"){this.k.'+t[2]+'(this.name+" ["+~~(this.size*this.size/100)+"]");}}}'+s[1];var t=e.match(/indexOf\((\w+)\)\)\)\{/),s=e.split(t[0]);return s[0]+"indexOf("+t[1]+")))||(this.size>=32&"+a+'[0]&&N==":teams"&&!this.d)){if(yq){if(this.name==""){this.k=new ka(this.h(),"#FFFFFF",true,"#000000");this.k.'+n+"(this.name);}};"+s[1];var s}function addFunctions(e){var t=e.match(/((\w)\.setAcid)/),a=e.split(t[0]);e=a[0]+t[2]+".Suicide=function(){var b=new ArrayBuffer(1);(new DataView(b)).setUint8(0, 20);q.send(b)};"+t[2]+".setVColors=function(a){zz=a};"+t[2]+".setTeamMass=function(a){yq=a;if(a){jQuery('#names').attr('checked',false);check(document.getElementById('names'));}};"+t[2]+'.setBG=function(a){xx=a;if(a){var url=localStorage.getItem("bgurl");if(url==null){url=""};var promp=prompt("Image URL",url);if(null==promp){jQuery("#bgimg").attr("checked",false);check(document.getElementById("bgimg"));xx=!a;return;}localStorage.setItem("bgurl",promp);jQuery("#acid").attr("checked",false);check(document.getElementById("acid"));document.body.style.backgroundImage=\'url("\'+promp+\'")\';xz=confirm("Show Grid Lines?");}};'+t[1]+a[1];var a=e.split("setNames=function(a){");return a[0]+"setNames=function(a){if(!a){jQuery('#tmass').attr('checked',false);check(document.getElementById('tmass'));}"+a[1]}function addCanvasBGHook(e){var t=e.match(/rRect\(0,0,(\w),(\w)\)/),a=e.split(t[0]);e=a[0]+"rRect(0,0,"+t[1]+","+t[2]+");xx&&!xz?g.clearRect(0, 0, r, s):"+a[1].substr(1);var t=e.match(/BFF";/),a=e.split(t[0]);return a[0]+'BFF";xx&&xz?g.clearRect(0,0,r,s):'+a[1]}function addVirusColorHook(e){var t=e.match(/(\?\(\w\.fillStyle=")/),a=e.split(t[0]);return a[0]+"||zz&&this.d"+t[1]+a[1]}function addLeaderboardHook(e){var t=e.match(/(fillStyle="#FFAAAA")(.+)(\w+)(\+1\+"\. ")/),a=e.split(t[0]);return a[0]+t[1]+",OnLeaderboard("+t[3]+"+1)"+t[2]+t[3]+t[4]+a[1]}function addOnCellEatenHook(e){var t=e.match(/(\w+)&&(\w+)&&\((\w+)\.(\w+)/),a=e.split(t[0]);return a[0]+t[1]+"&&"+t[2]+"&&(OnCellEaten("+t[1]+","+t[2]+"),"+t[3]+"."+t[4]+a[1]}function addOnShowOverlayHook(e){var t=e.match(/\w+\("#overlays"\)\.fadeIn\((\w+)\?\w+:\w+\);/),a=e.split(t[0]);return a[0]+t[0]+"OnShowOverlay("+t[1]+");"+a[1]}function addConnectHook(e){var t=e.match(/console\.log\("Connecting to "\+a\);/),a=e.split(t[0]);return a[0]+t[0]+'document.getElementById("ip").innerHTML=a.replace(/wss?:\\/\\//,"");'+a[1]}function addRecieveHook(e){var t=e.match(/\w\(new DataView\(..data\)\)/),a=e.split(t[0]);return a[0]+t[0]+";Recieve();"+a[1]}function addOnSendHook(e){var t=e.match(/\w+\.send\(\w+\.buffer\)/),a=e.split(t[0]);return a[0]+t[0]+";OnSend();"+a[1]}function addOnHideOverlayHook(e){var t=e.match(/\w+\("#overlays"\)\.hide\(\)/),a=e.split(t[0]);return a[0]+t[0]+";OnHideOverlay()"+a[1]}function addOnDrawHook(e){var t=e.match(/\w+\.width&&(\w+)\.drawImage\(\w+,\w+-\w+\.width-10,10\);/),a=e.split(t[0]);return a[0]+t[0]+"OnDraw("+t[1]+");"+a[1]}function LS_getValue(e,t){var a=localStorage.getItem(__STORAGE_PREFIX+e);return null===a&&"undefined"!=typeof t?t:a}function LS_setValue(e,t){localStorage.setItem(__STORAGE_PREFIX+e,t)}function GetRgba(e,t){var a=/^#([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})$/,s=a.exec(e);return"rgba("+parseInt(s[1],16)+","+parseInt(s[2],16)+","+parseInt(s[3],16)+","+t+")"}function secondsToHms(e){e=Number(e);var t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%3600%60);return(t>0?t+":"+(10>a?"0":""):"")+a+":"+(10>s?"0":"")+s}function ResetChart(){chart=null,chart_data.length=0,chart_counter=0,jQuery("#chart-container").empty()}function UpdateChartData(e){return chart_counter++,chart_counter%chart_update_interval>0?!1:(chart_data.push({x:chart_counter,y:e/100}),!0)}function CreateChart(e,t,a){return new CanvasJS.Chart(e,{interactivityEnabled:a,title:null,axisX:{valueFormatString:" ",lineThickness:0,tickLength:0},axisY:{lineThickness:0,tickLength:0,gridThickness:2,gridColor:"white",labelFontColor:"white"},backgroundColor:"rgba(0,0,0,0.2)",data:[{type:"area",color:t,dataPoints:chart_data}]})}function UpdateChart(e,t){my_color=t,null===chart&&(chart=CreateChart("chart-container",t,!1)),UpdateChartData(e)&&display_chart&&chart.render(),jQuery(".canvasjs-chart-credit").hide()}function ResetStats(){stats={pellets:{num:0,mass:0},w:{num:0,mass:0},cells:{num:0,mass:0},viruses:{num:0,mass:0},birthday:Date.now(),time_of_death:null,high_score:0,top_slot:Number.POSITIVE_INFINITY,gains:{},losses:{}}}function OnGainMass(e,t){var a=t.size*t.size;if(t.d)stats.viruses.num++,":teams"!=document.getElementById("gamemode").value&&(stats.viruses.mass+=a),sfx_event(7);else if(Math.floor(a)<=400&&!t.name)stats.pellets.num++,stats.pellets.mass+=a,sfx_event(0);else if(!t.name&&1444>=a&&(a>=1369||t.x==t.ox&&t.y==t.oy))t.color!=e.color&&(stats.w.num++,stats.w.mass+=a),sfx_event(2);else{var s=t.name+":"+t.color;stats.cells.num++,stats.cells.mass+=a,void 0==stats.gains[s]&&(stats.gains[s]={num:0,mass:0}),stats.gains[s].num++,stats.gains[s].mass+=a,sfx_event(2)}}function OnLoseMass(e,t){var a=e.size*e.size,s=t.name+":"+t.color;void 0==stats.losses[s]&&(stats.losses[s]={num:0,mass:0}),stats.losses[s].num++,stats.losses[s].mass+=a,sfx_event(2)}function DrawPie(e,t,a,s){var n=e+t+a+s;pie=new CanvasJS.Chart("pieArea",{title:null,animationEnabled:!1,legend:{verticalAlign:"center",horizontalAlign:"left",fontSize:12,fontFamily:"Helvetica"},theme:"theme2",data:[{type:"pie",startAngle:-20,showInLegend:!0,toolTipContent:"{legendText} {y}%",dataPoints:[{y:100*e/n,legendText:"pellets"},{y:100*a/n,legendText:"cells"},{y:100*t/n,legendText:"w"},{y:100*s/n,legendText:"viruses"}]}]}),pie.render()}function GetTopN(e,t){for(var a=[],s=Object.keys(stats[t]).sort(function(e,a){return-(stats[t][e].mass-stats[t][a].mass)}),n=0;e>n&&n<s.length;++n){var o=s[n],i=stats[t][o].mass,r=o.slice(0,o.length-8);r||(r="An unnamed cell");var l=o.slice(o.length-7);a.push({name:r,color:l,mass:Math.floor(i/100)})}return a}function AppendTopN(e,t,a){for(var s=GetTopN(e,t),n=0;n<s.length;++n){var o="<bdi>"+s[n].name+"</bdi> ("+("gains"==t?"+":"-")+s[n].mass+" mass)";a.append('<li style="font-size: 12px; "><div style="width: 10px; height: 10px; border-radius: 50%; margin-right:5px; background-color: '+s[n].color+'; display: inline-block;"></div>'+o+"</li>")}return s.length>0}function DrawStats(e){if(!e==in_game){jQuery("#statArea").empty(),jQuery("#pieArea").empty(),jQuery("#gainArea").empty(),jQuery("#lossArea").empty(),jQuery("#chartArea").empty(),jQuery("#stats").show(),e&&(sfx_play(1),StopBGM()),stats.time_of_death=Date.now();var t=stats.time_of_death?stats.time_of_death:Date.now(),a=(t-stats.birthday)/1e3,s=jQuery("<ul>");s.append('<li style="font-size: 12px; ">Game time: '+secondsToHms(a)+"</li>"),s.append('<li style="font-size: 12px; ">High score: '+~~(stats.high_score/100)+"</li>"),s.append(stats.top_slot==Number.POSITIVE_INFINITY?'<li style="font-size: 12px; ">You didn\'t make the leaderboard</li>':'<li style="font-size: 12px; ">Leaderboard max: '+stats.top_slot+"</li>"),s.append('<li style="font-size: 12px; padding-top: 15px">'+stats.pellets.num+" pellets eaten ("+~~(stats.pellets.mass/100)+" mass)</li>"),s.append('<li style="font-size: 12px; ">'+stats.cells.num+" cells eaten ("+~~(stats.cells.mass/100)+" mass)</li>"),s.append('<li style="font-size: 12px; ">'+stats.w.num+" masses eaten ("+~~(stats.w.mass/100)+" mass)</li>"),s.append('<li style="font-size: 12px; ">'+stats.viruses.num+" viruses eaten ("+~~(stats.viruses.mass/100)+" mass)</li>"),jQuery("#statArea").append("<b>Game Summary</b>"),jQuery("#statArea").append(s),DrawPie(stats.pellets.mass,stats.w.mass,stats.cells.mass,stats.viruses.mass),jQuery("#gainArea").append("<b>Top Gains</b>"),s=jQuery("<ol>"),jQuery("#gainArea").append(AppendTopN(5,"gains",s)?s:'<ul><li style="font-size: 12px; ">You have not eaten anybody</li></ul>'),jQuery("#lossArea").append("<b>Top Losses</b>"),s=jQuery("<ol>"),jQuery("#lossArea").append(AppendTopN(5,"losses",s)?s:'<ul><li style="font-size: 12px; ">Nobody has eaten you</li></ul>'),null!==stats.time_of_death?(jQuery("#chartArea").width(450).height(150),stat_chart=CreateChart("chartArea",my_color,!0),stat_chart.render()):jQuery("#chartArea").width(450).height(0),jQuery(".canvasjs-chart-credit").hide()}}function AppendText(e,t,a){t.globalAlpha=styles[a].alpha,t.font=styles[a].font,g_stat_spacing+=styles[a].spacing;var s=t.measureText(e).width;g_layout_width=Math.max(g_layout_width,s),t.fillText(e,g_layout_width/2-s/2,g_stat_spacing)}function RenderStats(e){if(e&&(g_layout_width=g_display_width),display_stats&&stats){g_stat_spacing=0;var t=GetTopN(3,"gains"),a=GetTopN(3,"losses"),s=30+styles.heading.spacing+2*styles.subheading.spacing+styles.normal.spacing*(4+t.length+a.length);stat_canvas=document.createElement("canvas");var n=Math.min(g_display_width,.3*window.innerWidth)/g_layout_width;stat_canvas.width=g_layout_width*n,stat_canvas.height=s*n;var o=stat_canvas.getContext("2d");o.scale(n,n),o.globalAlpha=.4,o.fillStyle="#000000",o.fillRect(0,0,g_layout_width,s),o.fillStyle="#FFFFFF",AppendText("Stats",o,"heading");var i=stats.pellets.num+" pellets eaten ("+~~(stats.pellets.mass/100)+")";AppendText(i,o,"normal"),i=stats.w.num+" mass eaten ("+~~(stats.w.mass/100)+")",AppendText(i,o,"normal"),i=stats.cells.num+" cells eaten ("+~~(stats.cells.mass/100)+")",AppendText(i,o,"normal"),i=stats.viruses.num+" viruses eaten ("+~~(stats.viruses.mass/100)+")",AppendText(i,o,"normal"),AppendText("Top Gains",o,"subheading");for(var r=0;r<t.length;++r)i=r+1+". "+t[r].name+" ("+t[r].mass+")",o.fillStyle=t[r].color,AppendText(i,o,"normal");o.fillStyle="#FFFFFF",AppendText("Top Losses",o,"subheading");for(var r=0;r<a.length;++r)i=r+1+". "+a[r].name+" ("+a[r].mass+")",o.fillStyle=a[r].color,AppendText(i,o,"normal")}}function initbench(e){$("div#benchmarker").css({backgroundColor:"rgba(0,0,0,0.4)",opacity:"1.0",color:"white",fontFamily:"Ubuntu,Arial,sans-serif",position:"fixed",padding:"10px","text-align":"center","pointer-events":"none"}),e&&(bstyle(!0),$("div#benchmarker").css(showt?{display:"block"}:{display:"none"}));var t='<table><h3>Benchmarker</h3><span>Time Elapsed: --:--</span><tr><th>Benchmark</th><th>Time</th><th>Best</th></tr><tr id="250mass"><td>250 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="500mass"><td>500 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="1000mass"><td>1000 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="2500mass"><td>2500 Mass</td><td class="time">-----</td><td class="best">-----</td></tr><tr id="5000mass"><td>5000 Mass</td><td class="time">-----</td><td class="best">-----</td></tr></table>';$("div#benchmarker").html(t);for(var a=0;a<benchmarks.length;a++)localStorage.getItem("best_"+benchmarks[a])&&$("#"+benchmarks[a]+" .best").html(localStorage.getItem("best_"+benchmarks[a]));$("table").css({margin:"8px",padding:"8px"}),$("div#benchmarker h3").css("text-align","center"),$("div#benchmarker span").css({"text-align":"center",display:"inline-block"}),$("td,th").css({padding:"5px","text-align":"left"}),$("div#benchmarker h3").css({"margin-top":"4px"})}function bstyle(e){$("div#benchmarker").css(e?{left:"",top:"",right:"5px",bottom:"5px","z-index":"1000"}:{left:"5px",top:"5px",right:"",bottom:"","z-index":"1"})}function count(){showt&&in_game&&$("div#benchmarker span").html("Time Elapsed: "+mToMs(Date.now()-stats.birthday))}function mToMs(e){var t=Math.floor(e/6e4),a=(e%6e4/1e3).toFixed(0);return t+":"+(10>a?"0":"")+a}function snp(e){return e.replace(/[^0-9]+/g,"")}function logBenchmark(e,t){"-----"==$("#"+e+" .time").html()&&(console.log("Benchmark set: "+e+" at "+t),$("#"+e+" .time").html(t),("-----"==$("#"+e+" .best").html()||snp(t)<snp(localStorage.getItem("best_"+e)))&&(console.log("Best time set: "+e+" at "+t),$("#"+e+" .best").html(t),localStorage.setItem("best_"+e,t)))}function deleteScores(){var e=confirm("Are you sure you want to delete your best times?");if(1==e)for(var t=0;t<benchmarks.length;t++)localStorage.removeItem("best_"+benchmarks[t]),$("#"+benchmarks[t]+" .best").html("-----")}function benchcheck(e){e=Math.floor(e/100);for(var t=0;t<mass_benchmarks.length;t++)massPrev<mass_benchmarks[t]&&e>=mass_benchmarks[t]&&logBenchmark(mass_benchmarks[t]+"mass",mToMs(Date.now()-stats.birthday))}var ourskins="0chan;18-25;1up;8ball;UmguwJ0;ace;agariomods.com;al sahim;alaska;albania;algeria;anarchy;android;anonymous;aperture;apple;atari;avatar;awesome;awwmuffin;baka;bandaid;bane;baseball;basketball;batman;beats;belarus;belgium;bender;bert;bielarus;bitcoin;black widow;blobfish;bluh;bobross;bobsaget;boo;boogie2988;borg;bp;breakfast;breizh;buckballs;burgundy;butters;byzantium;c;catalonia;catalunya;catman;chaika;charmander;chechenya;checkpointplus;cheese;chickfila;chocolate;chrome;chucknorris;cirno;cj;cling on;coca cola;cokacola;colombia;colombiaa;controless;converse;cookie;coookie;cornella;cornellà;coruja;creeper;creepydoll;csfb;cuba;cyprus;czech;czechia;czechrepublic;darksideofmoon;deadpool;deal with it;deathly hallows;deathstar;demon;derp;desu;dhole;dickbutt;doge;doggie;dolan;domo;domokun;dong;donut;doraemon;dreamcast;drunken;ebin;egg;egoraptor;egypt;eksi;electrokitty;epicface;expand;eye;facebook;fast forward;fastforward;fbi;fidel;fiji;finn;firefox;fishies;flash;florida;fnatic;fnaticc;foe;forocoches;freeman;freemason;friesland;frogout;fuckfacebook;gaben;gabenn;garfield;gaston;generikb;getinmybelly;getinthebox;gimper;github;giygas;gnomechild;gonzo;grammar nazi;grayhat;grima;grumpy;hagrid;halflife;halflife3;halo;handicapped;hap;hatty;hawaii;hawkeye;hebrew;heisenburg;helix;hipsterwhale;hispachan;hitler;homestuck;honeycomb;hosokawa;hue;hydro;iceland;ie;illuminati;illuminatiii;imaqtpie;imgur;imperial japan;imperialists;imperialjapan;instagram;iron man;isaac;isis;isreal;itchyfeetleech;ivysaur;jahrein;james bond;java;jew;jewnose;jimmies;jupiter;kalmar union;kame;kappa;kenny;kingdomoffrance;kingjoffrey;kirby;kitty;klingon;knights templar;knightstemplar;knowyourmeme;kurdistan;kyle;ladle;le snake;lenny;lgbt;liberland;libertyy;liechtenstien;linux;llessur;loadingreadyrun;loki;love;luigi;macedonia;malta;mario;mars;maryland;masterball;mastercheif;mcdonalds;meatboy;meatwad;megamilk;mike tyson;mike;mlg;moldova;mortalkombat;mr burns;mr.bean;mr.popo;n64;naga;nasa;nauru;nazi;nick fury;nick;nickelodeon;nipple;northbrabant;northernlion;nosmoking;notch;nsa;obama;obey;osu;ouch;palau;pandaexpress;pedo;pedobear;peka;penguin;pepe;pepsi;pewdiepie;pi;pig;piggy;pika;pinkfloyd;pinkstylist;pirate;piratebay;pizza;pizzaa;playstation;poop;potato;pt;quantum leap;question;rageface;retard smile;rewind;rockstar;rolfharris;roomba;rss;ryukyu;s.h.e.i.l.d;samoa;satan;scream;seal;serbia;sharingan;shell;shine;shrek;sinistar;sir;skull;skype;skyrim;slack;slovakia;slovenia;slowpoke;smash;snafu;snapchat;soccer;soliare;solomid;somalia;space ace;space;spawn;spiderman;spongegar;spore;spqr;spy;squirtle;stalinjr;star wars rebel;starbucks;starchild;starrynight;stitch;stupid;summit1g;sunface;superman;taco;teamfortress;thor;tintin;tonga;transformer;transformers;triforce;trollface;tubbymcfatfuck;turkey;tv;twitch;twitter;uguu;ukip;uppercase;uruguay;utorrent;vatican;vietnam;virus;voat;voyager;wakawaka;wales;walrus;wazowski;wewlad;white  light;windows;wit my woes;wwf;wykop;xsk;ycm;yinyang;ylilauta;ylilautaa;yoba;yobaa;yobaaa;yourmom;youtube;zeon;zimbabwe;zoella;zoidberg",showsh=!1,showt="true"==localStorage.getItem("showt"),ldown=!1,showfps=!1,showpio=!1;null===showt&&(localStorage.setItem("showt","true"),showt=!0),setInterval(function(){showsh&&DrawStats(!1),showt&&count()},300);var gamejs="",modBlocking=!0,tester=document.getElementsByTagName("script"),i=0,main_out_url=document.location.protocol+"//agar.io/main_out.js",discovered_mainouturl=0,W="",Ja="",b="",c3eg2="",in_game=!1,pandb="",bgmusic="";$("#audiotemplate").clone()[0];var tracks=["BotB 17936 Isolation Tank.mp3","BotB 17934 bubblybubblebubblingbubbles.mp3","BotB 17935 bloblobloblboblbolboblboblbobolbloblob.mp3","BotB 17937 Woofytunes.mp3","BotB 17938 slowgrow.mp3"],ssfxlist=["spawn","gameover"],ssfxs=[];for(i=0;i<ssfxlist.length;i++){var newsfx=new Audio("//skins.agariomods.com/botb/sfx/"+ssfxlist[i]+".mp3");newsfx.loop=!1,ssfxs.push(newsfx)}var sfxlist=["pellet","split","eat","bounce","merge","virusfeed","virusshoot","virushit"],sfxs=[];for(i=0;i<sfxlist.length;i++){var newsfx=new Audio("//skins.agariomods.com/botb/sfx/"+sfxlist[i]+".mp3");newsfx.loop=!1,newsfx.onended=function(){$(this).remove()},sfxs.push(newsfx)}var test=0,passed=0,failed=0,chart_update_interval=10,chart=null,chart_data=[],chart_counter=0,chart_s="",chart_m="",chart_G="",chart_Na="",chart_k="";for(i=0;i<tester.length;i++)src=tester[i].src,src.substring(0,main_out_url.length)==main_out_url&&(discovered_mainouturl=src.replace("//agar.io/",""));0!=discovered_mainouturl&&httpGet(discovered_mainouturl,function(e){gamejs="window.agariomods = "+e.replace("socket open","socket open (agariomods.com mod in place)"),gamejs=gamejs.replace(/\n/g,""),offset=gamejs.search('..="poland;'),Ja=gamejs.substr(offset,2),offset=gamejs.search('.....src="skins'),b=gamejs.substr(offset+2,1),offset=gamejs.search(".."+b+"..src"),W=gamejs.substr(offset,1);var t=/this.(.)&&b.strokeText/.exec(gamejs);pandb=t[1];var t=/strokeText\((.{1,14})\);/.exec(gamejs);c3eg2=t[1];var t=/\((.)\=..x,.\=..y\)/.exec(gamejs);chart_s=t[1];var t=/\(.\=(.).x,.\=..y\)/.exec(gamejs);chart_m=t[1];var t=/(.)\=Math.max\(.,..\(\)\);/.exec(gamejs);chart_G=t[1];var t=/.\=Math.max\(.,(..)\(\)\);/.exec(gamejs);chart_Na=t[1];var t=/(.)\[0\]\.name\&\&\(/.exec(gamejs);chart_k=t[1],agariomodsRuntimeInjection()});var chart_update_interval=10,chart=null,chart_data=[],chart_counter=0,stat_canvas=null,stats=null,my_cells=null,my_color="#ff8888",pie=null,stats_chart,display_chart="true"===LS_getValue("display_chart","true"),display_stats="true"===LS_getValue("display_stats","false"),g_stat_spacing=0,g_display_width=220,g_layout_width=g_display_width,__STORAGE_PREFIX="mikeyk730__";jQuery(document).ready(function(){jQuery("body").append('<div id="chart-container" style="display:none; position:absolute; height:176px; width:300px; left:10px; bottom:44px"></div>			   <div id="chart-container-agariomods" style="opacity: 0.7; position:absolute; height:20px; width:300px; right:10px; bottom:10px;">&nbsp;agariomods.com - modding <b>without</b> cheating</div>			   <div id="debug" style="position:absolute; top:5px; left:10px;">			   <div id="fps-agariomods" style="color: white; display: none; background-color: rgba(0,0,0,.5); padding:0 4px;"><b>FPS: </b><span>0</span></div>			   <div id="pio-agariomods" style="color: white; display: none;  background-color: rgba(0,0,0,.5); padding:0 4px;"><b>PI/O/s: </b><span>0</span>/<span>0</span></div>			   </div>			   '),jQuery("#instructions").remove(),jQuery(".btn-settings").hide(),jQuery("#settings").show();var e=jQuery("#settings input[type=checkbox]").closest("div");e.append("<label><input type=\"checkbox\" id=\"acid\" onchange=\"setAcid($(this).is(':checked'));if($(this).is(':checked')){$('#bgimg').attr('checked',false);check(document.getElementById('bgimg'));}\">Acid</label>"),e.append("<label><input type=\"checkbox\" onchange=\"if(this.checked){jQuery('#chart-container').show()}else{jQuery('#chart-container').hide()}\">Show chart</label>"),e.append('<label><input type="checkbox" onchange="setVColors($(this).is(\':checked\'));">Colorless Viruses</label>'),e.append('<label><input id="imgur" type="checkbox">Imgur Skins</label>'),e.append('<label><input type="checkbox" id="tmass" onchange="setTeamMass($(this).is(\':checked\'));">Show Teamed Mass</label>'),e.append('<label><input id="bgimg" type="checkbox" onchange="setBG($(this).is(\':checked\'));">Set Background</label>'),e.append('<div id="sliders"><label>SFX<input id="sfx" type="range" value="0" step=".1" min="0" max="1"></label><label>BGM<input type="range" id="bgm" value="0" step=".1" min="0" max="1" oninput="volBGM(this.value);"></label></div>'),jQuery("#overlays").append('<div id="stats" style="opacity: 0.85; position: absolute; top:330px; left: 460px; width: 480px; display: none; background-color: #FFFFFF; border-radius: 15px; padding: 5px 15px 5px 15px; transform: translate(0,-50%); white-space: nowrap; overflow:hidden;"><div id="statArea" style="vertical-align:top; width:250px; display:inline-block;"></div><div id="pieArea" style="vertical-align: top; width:200px; height:150px; display:inline-block; vertical-align:top"> </div><div id="gainArea" style="width:500px;  vertical-align:top"></div><div id="lossArea" style="width:500px; "></div><div id="chartArea" style="width:450px; display:inline-block; vertical-align:top"></div></div>'),jQuery("#stats").hide(0),jQuery("#playBtn").width("74%")});var styles={heading:{font:"20px Ubuntu",spacing:41,alpha:1},subheading:{font:"18px Ubuntu",spacing:31,alpha:1},normal:{font:"12px Ubuntu",spacing:21,alpha:.6}};jQuery(window).resize(function(){RenderStats(!1)}),window.OnGameStart=function(e){initbench(!1),in_game=!0,my_cells=e,ResetChart(),ResetStats(),RenderStats(!0),DrawStats(!1),1==kd&&(showsh=!1,document.getElementById("overlays").style.display="none",document.getElementById("overlays").style.backgroundColor="rgba(0,0,0,.498039)",document.getElementById("overlays").style.pointerEvents="auto",document.getElementById("stats").style.opacity=.85,document.getElementById("helloDialog").style.display="block",kd=!1),StartBGM(),sfx_play(0)},window.StartBGM=function(){0!=document.getElementById("bgm").value&&(""==bgmusic.src&&(bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)]),bgmusic.volume=document.getElementById("bgm").value,bgmusic.play())},window.StopBGM=function(){0!=document.getElementById("bgm").value&&(bgmusic.pause(),bgmusic.src="//skins.agariomods.com/botb/"+tracks[Math.floor(Math.random()*tracks.length)],bgmusic.load())},window.volBGM=function(){bgmusic.volume=document.getElementById("bgm").value},window.OnShowOverlay=function(e){bstyle(!0),e||(in_game=!1),DrawStats(!e),1==kd&&(document.getElementById("overlays").style.display="block",document.getElementById("overlays").style.backgroundColor="rgba(0,0,0,.498039)",document.getElementById("overlays").style.pointerEvents="auto",document.getElementById("stats").style.opacity=1,document.getElementById("helloDialog").style.display="block",kd=!1),in_game?(showsh=!0,canvas.onmousedown(0,0)):showsh=!1};var fired=!1;window.OnHideOverlay=function(){return 1==fired?void(fired=!1):(fired=!0,bstyle(!1),void(1==showsh&&(showsh=!1)))},window.OnUpdateMass=function(e){stats.high_score=Math.max(stats.high_score,e),UpdateChart(e,GetRgba(my_cells[0].color,.4)),benchcheck(e)
},window.OnCellEaten=function(e,t){my_cells&&(-1!=my_cells.indexOf(e)&&(OnGainMass(e,t),RenderStats(!1)),-1!=my_cells.indexOf(t)&&(OnLoseMass(t,e),RenderStats(!1)))},window.OnLeaderboard=function(e){stats.top_slot=Math.min(stats.top_slot,e)},window.OnDraw=function(e){showfps&&(document.getElementById("fps-agariomods").children[1].innerHTML=countFPS()),display_stats&&stat_canvas&&e.drawImage(stat_canvas,10,10)},window.Recieve=function(){showpio&&(document.getElementById("pio-agariomods").children[1].innerHTML=countPI())},window.OnSend=function(){showpio&&(document.getElementById("pio-agariomods").children[2].innerHTML=countPO())},window.countFPS=function(){var e=(new Date).getMilliseconds(),t=1,a=0;return function(){var s=(new Date).getMilliseconds();return e>s?(a=t,t=1):t+=1,e=s,a}}(),window.countPI=function(){var e=(new Date).getMilliseconds(),t=1,a=0;return function(){var s=(new Date).getMilliseconds();return e>s?(a=t,t=1):t+=1,e=s,a}}(),window.countPO=function(){var e=(new Date).getMilliseconds(),t=1,a=0;return function(){var s=(new Date).getMilliseconds();return e>s?(a=t,t=1):t+=1,e=s,a}}(),window.onpageshow=function(){initbench(!0),document.getElementById("bgimg").checked=!1,jQuery("#helloDialog").css({transform:""}),jQuery("#helloDialog").css({scale:""}),$("div#settings label").change(function(){$("div#settings.checkbox input").each(function(){"bgimg"!=this.id&&localStorage.setItem("setting"+$(this).parent().text().replace(" ","_"),this.checked)}),$("div#settings input[type=range]").each(function(){localStorage.setItem("setting"+$(this).parent().text().replace(" ","_"),this.value)})}),$("div#settings input").each(function(){check(this)})},window.check=function(e){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)},$(document).ready(function(){localStorage.getItem("setting_Imgur Skins")||localStorage.setItem("settingImgur_Skins","true"),localStorage.setItem("settingShow_Chart","true"),$("div#settings.checkbox input").each(function(){"bgimg"!=this.id&&(" No names"==$(this).parent().text()&&$(this).attr("id","names"),$(this).attr("checked","true"==localStorage.getItem("setting"+$(this).parent().text().replace(" ","_"))))}),$("div#settings input[type=range]").each(function(){$(this).attr("value",localStorage.getItem("setting"+$(this).parent().text().replace(" ","_")))})});var kd=!1;$(document).keydown(function(e){if(90==e.keyCode&&0==kd&&"none"==document.getElementById("overlays").style.display&&(kd=!0,document.getElementById("overlays").style.display="block",document.getElementById("overlays").style.backgroundColor="rgba(0,0,0,0)",document.getElementById("overlays").style.pointerEvents="none",document.getElementById("stats").style.opacity=1,document.getElementById("helloDialog").style.display="none",showsh=!0,DrawStats(!1)),84!=e.keyCode||e.altKey||"text"==document.activeElement.type||(showt=!showt,localStorage.setItem("showt",showt),document.getElementById("benchmarker").style.display=showt?"block":"none"),84==e.keyCode&&e.altKey&&deleteScores(),e.altKey&&49==e.keyCode&&(showfps=!showfps,document.getElementById("fps-agariomods").style.display=showfps?"block":"none"),e.altKey&&50==e.keyCode&&(showpio=!showpio,document.getElementById("pio-agariomods").style.display=showpio?"block":"none"),e.altKey&&81==e.keyCode&&in_game&&(jQuery("#overlays").show(),OnShowOverlay(!1),Suicide()),e.ctrlKey&&70===e.keyCode&&navigator.userAgent.match("Firefox")&&(e.preventDefault(),document.mozFullScreenElement?document.mozCancelFullScreen():document.getElementById("overlays").mozRequestFullScreen()),82==e.keyCode&&e.altKey){if(ldown)return;ldown=!0,console.log("pausing");for(var t=(new Date).getTime();t+500>=(new Date).getTime(););}}),$(document).keyup(function(e){90==e.keyCode&&1==kd&&(kd=!1,document.getElementById("overlays").style.display="none",document.getElementById("overlays").style.backgroundColor="rgba(0,0,0,.498039)",document.getElementById("overlays").style.pointerEvents="auto",document.getElementById("stats").style.opacity=.85,document.getElementById("helloDialog").style.display="block",showsh=!1),82==e.keyCode&&e.altKey&&ldown&&(ldown=!1)});var m,benchmarker,benchmarks=["250mass","500mass","1000mass","2500mass","5000mass"],mass_benchmarks=[250,500,1e3,2500,5e3],massPrev=0;$("body").append('<div id="benchmarker"></div>');
